(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{118:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return s});var r=a(0),n=a.n(r),c=function(e){var t=e.children;return n.a.createElement("div",{className:"card-container"},t)},s=function(e){var t=e.children;return n.a.createElement("div",{className:"card-without-padding"},t)}},137:function(e,t,a){"use strict";a.d(t,"d",function(){return i}),a.d(t,"c",function(){return m}),a.d(t,"b",function(){return b}),a.d(t,"e",function(){return p}),a.d(t,"a",function(){return d}),a.d(t,"f",function(){return f}),a.d(t,"g",function(){return j});var r=a(86),n=a.n(r),c=a(87),s=a(1),o=a(97),u=a(95),l=a(96),i=function(e,t,a){return function(){var r=Object(c.a)(n.a.mark(function r(c){var i;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c(Object(l.a)()),r.prev=1,r.next=4,o.a.fetchProspects(e,t,a);case 4:if(!(i=r.sent)){r.next=8;break}return c(Object(l.b)()),r.abrupt("return",c({type:s.j,payload:i.data.data}));case 8:r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),c(Object(l.b)()),"Network Error"===r.t0.message||500===r.t0.response.status||500===r.t0.response.status?(c(Object(u.b)("Network Error")),c(Object(u.a)())):(c(Object(u.b)(r.t0.response.data.error.message)),c(Object(u.a)()));case 14:case"end":return r.stop()}},r,null,[[1,10]])}));return function(e){return r.apply(this,arguments)}}()},m=function(e,t,a){return function(){var r=Object(c.a)(n.a.mark(function r(c){var i;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c(Object(l.a)()),r.prev=1,r.next=4,o.a.fetchCM(e,t,a);case 4:if(!(i=r.sent)){r.next=8;break}return c(Object(l.b)()),r.abrupt("return",c({type:s.d,payload:i.data.data}));case 8:r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),c(Object(l.b)()),"Network Error"===r.t0.message||500===r.t0.response.status?(c(Object(u.b)("Network Error")),c(Object(u.a)())):(c(Object(u.b)(r.t0.response.data.error.message)),c(Object(u.a)()));case 14:case"end":return r.stop()}},r,null,[[1,10]])}));return function(e){return r.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(c.a)(n.a.mark(function a(r){var c;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r(Object(l.a)()),a.prev=1,a.next=4,o.a.approvePCMs({ids:e,status:t});case 4:(c=a.sent)&&(r(Object(l.b)()),r(Object(u.c)(c.data.message)),r(Object(u.a)()),r(i())),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),r(Object(l.b)()),"Network Error"===a.t0.message||500===a.t0.response.status?(r(Object(u.b)("Network Error")),r(Object(u.a)())):(r(Object(u.b)(a.t0.response.data.error.message)),r(Object(u.a)()));case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(n.a.mark(function t(a){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(l.a)()),t.prev=1,t.next=4,o.a.getSingleUser(e);case 4:if(!(r=t.sent)){t.next=8;break}return a(Object(l.b)()),t.abrupt("return",a({type:s.k,payload:r.data.data}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),a(Object(l.b)()),"Network Error"===t.t0.message||500===t.t0.response.status?(a(Object(u.b)("Network Error")),a(Object(u.a)())):(a(Object(u.b)(t.t0.response.data.error.message)),a(Object(u.a)()));case 14:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(n.a.mark(function t(a){var r,c;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(l.a)()),t.prev=1,(r=new FormData).append("name",e.name),r.append("email",e.email),r.append("deployed_state",e.deployed_state),r.append("nysc_state_code",e.nysc_state_code),r.append("phone_number",e.phone_number),r.append("nysc_call_up_number",e.nysc_call_up_number),r.append("photo",e.photo),t.next=12,o.a.addUser(r);case 12:(c=t.sent)&&(a(Object(l.b)()),a(Object(u.c)(c.data.message)),a(Object(u.a)())),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),a(Object(l.b)()),"Network Error"===t.t0.message||500===t.t0.response.status?(a(Object(u.b)("Network Error")),a(Object(u.a)())):(a(Object(u.b)(t.t0.response.data.error.message)),a(Object(u.a)()));case 20:case"end":return t.stop()}},t,null,[[1,16]])}));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(n.a.mark(function t(a){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(l.a)()),t.prev=1,t.next=4,o.a.toggleActiveUser(e);case 4:(r=t.sent)&&(a(Object(l.b)()),a(Object(u.c)(r.data.message)),a(p(e.id)),a(Object(u.a)())),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(Object(l.b)()),"Network Error"===t.t0.message||500===t.t0.response.status?(a(Object(u.b)("Network Error")),a(Object(u.a)())):(a(Object(u.b)(t.t0.response.data.error.message)),a(Object(u.a)()));case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var a=Object(c.a)(n.a.mark(function a(r){var c;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r(Object(l.a)()),a.prev=1,a.next=4,o.a.verifyABusiness({status:e.status},t);case 4:(c=a.sent)&&(r(Object(l.b)()),r(Object(u.c)(c.data.message)),r(p(e.userId)),r(Object(u.a)())),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),r(Object(l.b)()),"Network Error"===a.t0.message||500===a.t0.response.status?(r(Object(u.b)("Network Error")),r(Object(u.a)())):(r(Object(u.b)(a.t0.response.data.error.message)),r(Object(u.a)()));case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()}},538:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(105),s=a.n(c),o=a(107),u=a.n(o),l=a(100),i=a(3),m=a(118),b=a(12),p=a(27),d=a(137),f=a(36);t.default=function(e){var t=e.location,a=Object(i.g)(),c=Object(b.c)(),o=Object(p.useToasts)().addToast,j=Object(b.d)(function(e){return e.alert}),O=Object(b.d)(function(e){return e.usersReducer});Object(r.useEffect)(function(){c(Object(d.e)(t.state.id))},[c,t]),Object(r.useEffect)(function(){j.message&&(o(j.message,{appearance:"error"}),s()({title:"Error!",text:j.message,icon:"error",button:"close!"})),j.success&&(o(j.success,{appearance:"success"}),s()({title:"Success!",text:j.success,icon:"success",button:"close!"}))},[j.message,j.success,o]);var v=O.cm.businesses,E=O.cm.attendance,h=[];for(var g in v)h.push(v[g]);var w=[];for(var k in E)w.push(E[k]);var x=function(){c(Object(d.f)({id:O.cm.id,status:"active"===O.cm.status?0:1}))};return n.a.createElement("div",null,n.a.createElement(l.a,{title:"Users"},n.a.createElement("section",{className:"user-section"},n.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},n.a.createElement("h4",null,n.a.createElement("i",{onClick:function(){return a.push("/users")},className:"fa fa-angle-left fw-bold pointer","aria-hidden":"true"})," "),f.a.loading?n.a.createElement("button",{onClick:x,style:{marginTop:-10},className:"btn bg-green text-white px-3 py-2 fw-bold mt-2"},"Loading..."):n.a.createElement("button",{onClick:x,style:{marginTop:-10},className:"btn bg-green text-white px-3 py-2 fw-bold mt-2"},"active"===O.cm.status?"Deactivate user":"Activate user")),n.a.createElement("div",{className:"flex-between mt-3"},n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("div",{style:{height:100,width:100},className:"circle-big mt-3 mr-2"},n.a.createElement("img",{src:O.cm.profile&&O.cm.profile.photo,width:"100%",height:"100%",style:{borderRadius:"50%"},alt:"Avatar"})),n.a.createElement("div",{className:"d-flex flex-column align-items-baseline"},n.a.createElement("h5",{className:"fw-bold mt-2"},O.cm.name),n.a.createElement("p",{style:{color:"#17161699",marginTop:10}},"State code: ",O.cm.profile&&O.cm.profile.nysc_state_code),n.a.createElement("p",{style:{color:"#17161699"}},"Part of DO_DEEL CDS since  ",u()(O.cm.created_at).format("dddd, MMMM Do YYYY, h:mm:ss a")))),n.a.createElement("div",null,n.a.createElement("p",{className:"text-primary fw-bold"},O.cm.email),n.a.createElement("p",null,O.cm.profile&&O.cm.profile.phone_number))),n.a.createElement("div",{className:"mt-4"},n.a.createElement(m.a,null,n.a.createElement("p",{className:"fw-bold text-green"},"Trainings completed"),n.a.createElement("div",{className:"mt-2"},w.map(function(e){return n.a.createElement("div",{key:e.id,className:"training-list-item"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("i",{className:"fa fa-tag","aria-hidden":"true"}),n.a.createElement("p",null,e.training.title)),n.a.createElement("div",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:!0,id:"flexCheckChecked"})))})))),n.a.createElement("div",{className:"mt-4"},n.a.createElement(m.a,null,n.a.createElement("p",{className:"fw-bold text-green"},"Onboarded businesses"),n.a.createElement("div",{className:"mt-4"},n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"S/N"),n.a.createElement("th",{scope:"col"},"Time stamp"),n.a.createElement("th",{scope:"col"},"Business name"),n.a.createElement("th",{scope:"col"},"Email address"),n.a.createElement("th",{scope:"col"},"Owner\u2019s name"),n.a.createElement("th",{scope:"col"},"Status"),n.a.createElement("th",{scope:"col"},"Comment"))),n.a.createElement("tbody",null,h.map(function(e,t){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,t+1),n.a.createElement("td",null,u()(e.created_at).format("YYYY-MM-DD, h:mm:ss")),n.a.createElement("td",null,e.business_name),n.a.createElement("td",null,e.business_email),n.a.createElement("td",null,e.business_owner),n.a.createElement("td",{onClick:function(){return t=e.id,void c(Object(d.g)({status:1,userId:O.cm.id},t));var t}},n.a.createElement("p",{className:"approved"===e.status?"badge bg-green text-white pointer":"badge bg-pending text-white pointer"},"approved"===e.status?"verified":"pending")),n.a.createElement("td",null,e.reject_reason))})))))))))}}}]);
//# sourceMappingURL=22.f1822903.chunk.js.map