{"version":3,"sources":["redux/actions/newsActions.js","pages/updates/CreateNewUpdate.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js"],"names":["fetchNews","_ref","Object","_Users_siyanbolaopeoluwa_Documents_ope_mindthegap_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_siyanbolaopeoluwa_Documents_ope_mindthegap_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","resp","wrap","_context","prev","next","startLoading","ApiService","sent","stopLoading","abrupt","type","FETCH_NEWS","payload","data","t0","message","response","status","getError","clear","error","stop","_x","apply","this","arguments","addNews","_ref2","_callee2","formData","_context2","FormData","append","title","content","image","is_featured","success","_x2","updateNews","id","_ref3","_callee3","_context3","_x3","deleteNews","_ref4","_callee4","_context4","_x4","CreateUpdate","location","state","news","history","useHistory","useDispatch","addToast","useToasts","_useState","useState","_useState2","_Users_siyanbolaopeoluwa_Documents_ope_mindthegap_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__","update","setUpdate","_useState3","_useState4","toggleFeatured","_useState5","_useState6","setImage","inputFile","useRef","alert","useSelector","loadingReducer","useEffect","appearance","swal","text","icon","button","push","handleChange","e","_Users_siyanbolaopeoluwa_Documents_ope_mindthegap_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__","_Users_siyanbolaopeoluwa_Documents_ope_mindthegap_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","target","name","value","handleSubmit","preventDefault","handleUpdate","_ref5","react__WEBPACK_IMPORTED_MODULE_5___default","createElement","_layouts_Dasboard_Layout__WEBPACK_IMPORTED_MODULE_8__","className","onClick","aria-hidden","htmlFor","onChange","style","height","display","ref","files","length","backgroundColor","fontSize","current","click","key","path","size","border","loading","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","undefined","_s","_i","done","err","_iterableToArrayLimit","unsupportedIterableToArray","TypeError","_nonIterableRest","__webpack_require__","d","__webpack_exports__","_unsupportedIterableToArray","_arrayLikeToArray__WEBPACK_IMPORTED_MODULE_0__","o","minLen","n","prototype","toString","call","slice","constructor","from","test","_arrayLikeToArray","len","arr2"],"mappings":"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","file":"static/js/19.1fa0ef52.chunk.js","sourcesContent":["import {\n  FETCH_NEWS,\n} from '../types';\nimport ApiService from '../../utils/apiService';\nimport { getError, clear, success } from './alertActions';\nimport { startLoading, stopLoading } from './loadingAction';\n    \nexport const fetchNews = () => async dispatch => {\n  dispatch(startLoading());\n    \n  try {\n    const resp = await ApiService.fetchNews();\n    if (resp) {\n      dispatch(stopLoading());\n      return dispatch({ type: FETCH_NEWS, payload: resp.data.data });\n    }\n  } catch (error) {\n    dispatch(stopLoading());\n    if (error.message === 'Network Error' || error.response.status===500) {\n      dispatch(getError('Network Error'));\n      dispatch(clear());\n    } else {\n      dispatch(getError(error.response.data.error.message));\n      dispatch(clear());\n    }\n  }\n};\n\nexport const addNews = (data) => async dispatch =>  {\n  dispatch(startLoading());\n  \n  try {\n    const formData = new FormData();\n    formData.append('title', data.title);\n    formData.append('content', data.content);\n    formData.append('image', data.image);\n    formData.append('category_id', 1);\n    formData.append('is_featured', data.is_featured);\n  \n    const resp = await ApiService.addNews(formData);\n  \n    if (resp) {\n      dispatch(stopLoading());\n      dispatch(success(resp.data.message));\n      dispatch(clear());\n    }\n  } catch (error) {\n    dispatch(stopLoading());\n    if (error.message === 'Network Error' || error.response.status===500) {\n      dispatch(getError('Network Error'));\n      dispatch(clear());\n    } else {\n      dispatch(getError(error.response.data.error.message));\n      dispatch(clear());\n    }\n  }\n};\n\nexport const updateNews = (data, id) => async dispatch =>  {\n  dispatch(startLoading());\n\n  try {\n    const formData = new FormData();\n    formData.append('title', data.title);\n    formData.append('content', data.content);\n    if (data.image) {\n      formData.append('image', data.image);\n    }\n    formData.append('category_id', 1);\n    formData.append('is_featured', data.is_featured);\n    const resp = await ApiService.updateNews(formData, id);\n  \n    if (resp) {\n      dispatch(stopLoading());\n      dispatch(success(resp.data.message));\n      dispatch(clear());\n    }\n  } catch (error) {\n    dispatch(stopLoading());\n    if (error.message === 'Network Error'||error.response.status===500) {\n      dispatch(getError('Network Error'));\n      dispatch(clear());\n    } else {\n      dispatch(getError(error.response.data.error.message));\n      dispatch(clear());\n    }\n  }\n};\n\nexport const deleteNews = (id) => async dispatch => {\n  dispatch(startLoading());\n  \n  try {\n    const resp = await ApiService.deleteNews(id);\n  \n    if (resp) {\n      dispatch(stopLoading());\n      dispatch(success(resp.data.message));\n      dispatch(fetchNews());\n      dispatch(clear());\n    }\n  } catch (error) {\n    dispatch(stopLoading());\n    if (error.message === 'Network Error' || error.response.status===500) {\n      dispatch(getError('Network Error'));\n      dispatch(clear());\n    } else {\n      dispatch(getError(error.response.data.error.message));\n      dispatch(clear());\n    }\n  }\n};","import React, { useEffect, useState, useRef } from 'react';\nimport swal from 'sweetalert';\nimport { useHistory } from 'react-router-dom';\nimport DashboardLayout from '../../layouts/Dasboard_Layout';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useToasts } from 'react-toast-notifications';\nimport { addNews, updateNews } from '../../redux/actions/newsActions';\n\nconst CreateUpdate = ({ location }) => {\n  let data = (location.state) ? location.state.news : null;\n\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n  const { addToast } = useToasts();\n\n  const [update, setUpdate] = useState({\n    title: (data) ? data.title : '',\n    content: (data) ? data.content:'',\n  });\n  const [is_featured, toggleFeatured] = useState((data) ? data.is_featured:false);\n  const [image, setImage] = useState('');\n  const inputFile = useRef(null);\n\n  const handleFileUpload = e => {\n    const { files } = e.target;\n    if (files && files.length) {\n      // const filename = files[0].name;\n\n      // var parts = filename.split('.');\n      // const fileType = parts[parts.length - 1];\n      // console.log('fileType', fileType); //ex: zip, rar, jpg, svg etc.\n\n      setImage(files[0]);\n    }\n  };\n\n  const onButtonClick = () => {\n    inputFile.current.click();\n  };\n\n  const alert = useSelector(({ alert }) => alert);\n  const loadingReducer = useSelector(({ loadingReducer }) => loadingReducer);\n\n\n  useEffect(() => {\n    if (alert.message) {\n      addToast(alert.message, { appearance: 'error' });\n      swal({\n        title: 'Error!',\n        text: alert.message,\n        icon: 'error',\n        button: 'close!',\n      });\n    }\n    if (alert.success) {\n      addToast(alert.success, { appearance: 'success' });\n      swal({\n        title: 'Success!',\n        text: alert.success,\n        icon: 'success',\n        button: 'close!',\n      });\n      history.push('/updates');\n    }\n  }, [alert.message, alert.success, addToast, history]);\n\n  const handleChange = (e) => {\n    setUpdate({ ...update, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    await dispatch(addNews({ ...update, is_featured: is_featured?1:0, image: image }));\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n\n    await dispatch(updateNews({ ...update, is_featured: is_featured?1:0, image: image }, data.id));\n  };\n\n  const removeFile = () => {\n    setImage('');\n  };\n\n  return (\n    <div>\n      <DashboardLayout title='Updates'>\n        <section className=\"trainings-section\">\n          <div>\n            <h4><i onClick={() => history.push('/updates')} className=\"fa fa-angle-left fw-bold pointer\" aria-hidden=\"true\"></i> </h4>\n            <h5 className=\"fw-bold mt-3\">{data? 'Update New News':'Create New News'}</h5>\n\n\n            <div className='mt-5 px-5 az'>\n              <form>\n                <div className=\"mb-4 input-family\">\n                  <label htmlFor=\"exampleInputPassword1\" className=\"label\">Title</label>\n                  <input type=\"text\" className=\"form-control\" name='title' value={update.title} onChange={handleChange} />\n                </div>\n\n                <div className=\"mb-4 input-family\">\n                  <label htmlFor=\"exampleInputtext1\" className=\"label\">Details</label>\n                  <textarea type=\"text\" style={{ height: 200 }} className=\"form-control\" name='content' value={update.content} onChange={handleChange} />\n                </div>\n\n                <div className='col-md-3 mb-4'>\n                  <div className='flex-between form-control'>\n                    <small>Featured</small>\n                    <input className=\"form-check-input\" type=\"checkbox\" name='is_featured' onChange={()=>toggleFeatured(!is_featured)} value={is_featured} id=\"defaultCheck1\"></input>\n                  </div>\n                </div>\n\n              </form>\n              <input\n                style={{ display: 'none' }}\n                // accept=\".zip,.rar\"\n                ref={inputFile}\n                onChange={handleFileUpload}\n                type=\"file\"\n              />\n              <p className=\"fw-bold\">Add cover</p>\n\n              <div className=\"d-flex align-items-center\">\n                <div className=\"mr-2 fd-flex align-items-center justify-content-center\" style={{ backgroundColor: '#E7F9E9' }}>\n                  <span style={{ fontSize: 20 }} className=\"material-icons-outlined\">\n                    image\n                  </span>\n                </div>\n                <div>\n                  <p>Please upload an image in JPG, JPEG or PNG format (not more than 1MB)</p>\n                  <button style={{ backgroundColor: '#E7F9E9', fontSize: 11 }} onClick={onButtonClick} className=\"btn\">Chooose file</button>\n                </div>\n\n              </div>\n\n              {\n                image &&\n                <div key={image.path} className='flex-between py-2'>\n                  <p className='fw-bold'>{image.name} - {image.size} bytes</p>\n                  <button onClick={removeFile} style={{ border: '1px solid #D5D8DF', fontSize: 12 }} className='btn'>\n                    <i className=\"fa fa-close\" aria-hidden=\"true\"></i>\n                  </button>\n                </div>\n              }\n\n              <div className=\"d-flex justify-content-center mt-5\">\n                {\n                  data ?\n                    <button style={{ fontSize: 13 }} onClick={handleUpdate} className='btn bg-green text-white  px-5 py-2'>{loadingReducer.loading ? 'Loading...' : 'Publish'}</button>\n                    :\n                    <button style={{ fontSize: 13 }} onClick={handleSubmit} className='btn bg-green text-white  px-5 py-2'>{loadingReducer.loading ? 'Loading...' : 'Publish'}</button>\n                }\n              </div>\n\n            </div>\n\n\n          </div>\n        </section>\n      </DashboardLayout>\n    </div>\n  );\n};\n\nexport default CreateUpdate;\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}"],"sourceRoot":""}