(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{196:function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"a",function(){return m}),a.d(t,"d",function(){return b}),a.d(t,"b",function(){return f});var n=a(86),r=a.n(n),c=a(87),s=a(1),o=a(96),u=a(93),l=a(94),i=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(l.a)()),e.prev=1,e.next=4,o.a.fetchNews();case 4:if(!(a=e.sent)){e.next=8;break}return t(Object(l.b)()),e.abrupt("return",t({type:s.h,payload:a.data.data}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(Object(l.b)()),"Network Error"===e.t0.message||500===e.t0.response.status?(t(Object(u.b)("Network Error")),t(Object(u.a)())):(t(Object(u.b)(e.t0.response.data.error.message)),t(Object(u.a)()));case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(a){var n,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(l.a)()),t.prev=1,(n=new FormData).append("title",e.title),n.append("content",e.content),n.append("image",e.image),n.append("category_id",1),n.append("is_featured",e.is_featured),t.next=10,o.a.addNews(n);case 10:(c=t.sent)&&(a(Object(l.b)()),a(Object(u.c)(c.data.message)),a(Object(u.a)())),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),a(Object(l.b)()),"Network Error"===t.t0.message||500===t.t0.response.status?(a(Object(u.b)("Network Error")),a(Object(u.a)())):(a(Object(u.b)(t.t0.response.data.error.message)),a(Object(u.a)()));case 18:case"end":return t.stop()}},t,null,[[1,14]])}));return function(e){return t.apply(this,arguments)}}()},b=function(e,t){return function(){var a=Object(c.a)(r.a.mark(function a(n){var c,s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(Object(l.a)()),a.prev=1,(c=new FormData).append("title",e.title),c.append("content",e.content),e.image&&c.append("image",e.image),c.append("category_id",1),c.append("is_featured",e.is_featured),a.next=10,o.a.updateNews(c,t);case 10:(s=a.sent)&&(n(Object(l.b)()),n(Object(u.c)(s.data.message)),n(Object(u.a)())),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(1),n(Object(l.b)()),"Network Error"===a.t0.message||500===a.t0.response.status?(n(Object(u.b)("Network Error")),n(Object(u.a)())):(n(Object(u.b)(a.t0.response.data.error.message)),n(Object(u.a)()));case 18:case"end":return a.stop()}},a,null,[[1,14]])}));return function(e){return a.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(a){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(l.a)()),t.prev=1,t.next=4,o.a.deleteNews(e);case 4:(n=t.sent)&&(a(Object(l.b)()),a(Object(u.c)(n.data.message)),a(i()),a(Object(u.a)())),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(Object(l.b)()),"Network Error"===t.t0.message||500===t.t0.response.status?(a(Object(u.b)("Network Error")),a(Object(u.a)())):(a(Object(u.b)(t.t0.response.data.error.message)),a(Object(u.a)()));case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}},542:function(e,t,a){"use strict";a.r(t);var n=a(86),r=a.n(n),c=a(87),s=a(28),o=a(2),u=a(88),l=a(0),i=a.n(l),m=a(103),b=a.n(m),f=a(3),p=a(100),d=a(12),j=a(27),O=a(196);t.default=function(e){var t=e.location,a=t.state?t.state.news:null,n=Object(f.g)(),m=Object(d.c)(),v=Object(j.useToasts)().addToast,g=Object(l.useState)({title:a?a.title:"",content:a?a.content:""}),h=Object(u.a)(g,2),w=h[0],y=h[1],E=Object(l.useState)(!!a&&a.is_featured),N=Object(u.a)(E,2),x=N[0],k=N[1],C=Object(l.useState)(""),S=Object(u.a)(C,2),_=S[0],D=S[1],F=Object(l.useRef)(null),z=Object(d.d)(function(e){return e.alert}),A=Object(d.d)(function(e){return e.loadingReducer});Object(l.useEffect)(function(){z.message&&(v(z.message,{appearance:"error"}),b()({title:"Error!",text:z.message,icon:"error",button:"close!"})),z.success&&(v(z.success,{appearance:"success"}),b()({title:"Success!",text:z.success,icon:"success",button:"close!"}),n.push("/updates"))},[z.message,z.success,v,n]);var P=function(e){y(Object(o.a)({},w,Object(s.a)({},e.target.name,e.target.value)))},I=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m(Object(O.a)(Object(o.a)({},w,{is_featured:x?1:0,image:_})));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m(Object(O.d)(Object(o.a)({},w,{is_featured:x?1:0,image:_}),a.id));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",null,i.a.createElement(p.a,{title:"Updates"},i.a.createElement("section",{className:"trainings-section"},i.a.createElement("div",null,i.a.createElement("h4",null,i.a.createElement("i",{onClick:function(){return n.push("/updates")},className:"fa fa-angle-left fw-bold pointer","aria-hidden":"true"})," "),i.a.createElement("h5",{className:"fw-bold mt-3"},a?"Update New News":"Create New News"),i.a.createElement("div",{className:"mt-5 px-5 az"},i.a.createElement("form",null,i.a.createElement("div",{className:"mb-4 input-family"},i.a.createElement("label",{htmlFor:"exampleInputPassword1",className:"label"},"Title"),i.a.createElement("input",{type:"text",className:"form-control",name:"title",value:w.title,onChange:P})),i.a.createElement("div",{className:"mb-4 input-family"},i.a.createElement("label",{htmlFor:"exampleInputtext1",className:"label"},"Details"),i.a.createElement("textarea",{type:"text",style:{height:200},className:"form-control",name:"content",value:w.content,onChange:P})),i.a.createElement("div",{className:"col-md-3 mb-4"},i.a.createElement("div",{className:"flex-between form-control"},i.a.createElement("small",null,"Featured"),i.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"is_featured",onChange:function(){return k(!x)},value:x,id:"defaultCheck1"})))),i.a.createElement("input",{style:{display:"none"},ref:F,onChange:function(e){var t=e.target.files;t&&t.length&&D(t[0])},type:"file"}),i.a.createElement("p",{className:"fw-bold"},"Add cover"),i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("div",{className:"mr-2 fd-flex align-items-center justify-content-center",style:{backgroundColor:"#E7F9E9"}},i.a.createElement("span",{style:{fontSize:20},className:"material-icons-outlined"},"image")),i.a.createElement("div",null,i.a.createElement("p",null,"Please upload an image in JPG, JPEG or PNG format (not more than 1MB)"),i.a.createElement("button",{style:{backgroundColor:"#E7F9E9",fontSize:11},onClick:function(){F.current.click()},className:"btn"},"Chooose file"))),_&&i.a.createElement("div",{key:_.path,className:"flex-between py-2"},i.a.createElement("p",{className:"fw-bold"},_.name," - ",_.size," bytes"),i.a.createElement("button",{onClick:function(){D("")},style:{border:"1px solid #D5D8DF",fontSize:12},className:"btn"},i.a.createElement("i",{className:"fa fa-close","aria-hidden":"true"}))),i.a.createElement("div",{className:"d-flex justify-content-center mt-5"},a?i.a.createElement("button",{style:{fontSize:13},onClick:J,className:"btn bg-green text-white  px-5 py-2"},A.loading?"Loading...":"Publish"):i.a.createElement("button",{style:{fontSize:13},onClick:I,className:"btn bg-green text-white  px-5 py-2"},A.loading?"Loading...":"Publish")))))))}},88:function(e,t,a){"use strict";var n=a(90);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,c=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(u){r=!0,c=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",function(){return r})},90:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(92);function r(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},92:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",function(){return n})}}]);
//# sourceMappingURL=20.dcfb2b44.chunk.js.map