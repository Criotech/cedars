(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{194:function(e,t,a){"use strict";a.d(t,"d",function(){return d}),a.d(t,"c",function(){return b}),a.d(t,"a",function(){return p}),a.d(t,"e",function(){return f}),a.d(t,"b",function(){return v});var r=a(86),n=a.n(r),c=a(87),s=a(106),o=a.n(s),i=a(1),l=a(96),u=a(93),m=a(94),d=function(){return function(){var e=Object(c.a)(n.a.mark(function e(t){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(m.a)()),e.prev=1,e.next=4,l.a.fetchTrainings();case 4:if(!(a=e.sent)){e.next=8;break}return t(Object(m.b)()),e.abrupt("return",t({type:i.n,payload:a.data.data}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),t(Object(m.b)()),"Network Error"===e.t0.message||500===e.t0.response.status?(t(Object(u.b)("Network Error")),t(Object(u.a)())):(t(Object(u.b)(e.t0.response.data.error.message)),t(Object(u.a)()));case 14:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(n.a.mark(function t(a){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(m.a)()),t.prev=1,t.next=4,l.a.fetchTraining(e);case 4:if(!(r=t.sent)){t.next=8;break}return a(Object(m.b)()),t.abrupt("return",a({type:i.m,payload:r.data.data}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),a(Object(m.b)()),"Network Error"===t.t0.message||500===t.t0.response.status?(a(Object(u.b)("Network Error")),a(Object(u.a)())):(a(Object(u.b)(t.t0.response.data.error.message)),a(Object(u.a)()));case 14:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(n.a.mark(function t(a){var r,c,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a(Object(m.a)()),t.prev=1,(r=new FormData).append("title",e.title),r.append("overview",e.overview),r.append("live_video",e.live_video),r.append("start_time",o()(e.start_time).format("YYYY-MM-DD HH:mm:ss")),r.append("attendance_time",o()(e.attandance_time).format("YYYY-MM-DD HH:mm:ss")),r.append("tutor",e.tutor),c=0;c<e.myFiles.length;c++)r.append("resources[".concat(c,"][attachment]"),e.myFiles[c]);return t.next=12,l.a.addTraining(r);case 12:(s=t.sent)&&(a(Object(m.b)()),a(Object(u.c)(s.data.message)),a(Object(u.a)())),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),a(Object(m.b)()),"Network Error"===t.t0.message||500===t.t0.response.status?(a(Object(u.b)("Network Error")),a(Object(u.a)())):(a(Object(u.b)(t.t0.response.data.error.message)),a(Object(u.a)()));case 20:case"end":return t.stop()}},t,null,[[1,16]])}));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var a=Object(c.a)(n.a.mark(function a(r){var c,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r(Object(m.a)()),a.prev=1,(c=new FormData).append("title",e.title),c.append("overview",e.overview),c.append("live_video",e.live_video),c.append("start_time",o()(e.start_time).format("YYYY-MM-DD HH:mm:ss")),c.append("attendance_time",o()(e.attandance_time).format("YYYY-MM-DD HH:mm:ss")),c.append("tutor",e.tutor),c.append("status",e.status),a.next=12,l.a.updateTraining(c,t);case 12:(s=a.sent)&&(r(Object(m.b)()),r(Object(u.c)(s.data.message)),r(Object(u.a)())),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(1),r(Object(m.b)()),"Network Error"===a.t0.message||500===a.t0.response.status?(r(Object(u.b)("Network Error")),r(Object(u.a)())):(r(Object(u.b)(a.t0.response.data.error.message)),r(Object(u.a)()));case 20:case"end":return a.stop()}},a,null,[[1,16]])}));return function(e){return a.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(n.a.mark(function t(a){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(m.a)()),t.prev=1,t.next=4,l.a.deleteTraining(e);case 4:(r=t.sent)&&(a(Object(m.b)()),a(Object(u.c)(r.data.message)),a(d()),a(Object(u.a)())),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(Object(m.b)()),"Network Error"===t.t0.message||500===t.t0.response.status?(a(Object(u.b)("Network Error")),a(Object(u.a)())):(a(Object(u.b)(t.t0.response.data.error.message)),a(Object(u.a)()));case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()}},539:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(106),s=a.n(c),o=a(103),i=a.n(o),l=a(3),u=a(12),m=a(27),d=a(100),b=a(194);t.default=function(){var e=Object(l.g)(),t=Object(u.c)(),a=Object(m.useToasts)().addToast,c=Object(u.d)(function(e){return e.alert}),o=Object(u.d)(function(e){return e.trainingsReducer});Object(r.useEffect)(function(){t(Object(b.d)())},[t]),Object(r.useEffect)(function(){c.message&&(a(c.message,{appearance:"error"}),i()({title:"Error!",text:c.message,icon:"error",button:"close!"})),c.success&&(a(c.success,{appearance:"success"}),i()({title:"Success!",text:c.success,icon:"success",button:"close!"}))},[c.message,c.success,a]);return n.a.createElement("div",null,n.a.createElement(d.a,{title:"Trainings"},n.a.createElement("section",{className:"trainings-section"},n.a.createElement("div",{className:"flex-between"},n.a.createElement("h5",{className:"fw-bold mb-3"},"Trainings"),n.a.createElement("div",{onClick:function(){return e.push("/trainings/create")},className:"d-flex flex-between pointer"},n.a.createElement("i",{className:"fa fa-plus-circle text-green mr-1","aria-hidden":"true"}),n.a.createElement("h5",{className:"fw-bold text-green"},"Create New"))),n.a.createElement("div",{className:"w-100 mt-4"},n.a.createElement("div",{className:"d-flex align-items-center w-100"},n.a.createElement("div",{className:"search-bar-container"},n.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),n.a.createElement("input",{type:"text",className:"form-control flex-grow-1",placeholder:"Search"})),n.a.createElement("h6",{className:"px-5 text-green fw-bold"},"Filters ",n.a.createElement("i",{className:"fa fa-cog ml-1","aria-hidden":"true"})))),n.a.createElement("div",{className:"mt-4"},n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Date"),n.a.createElement("th",{scope:"col"},"Title"),n.a.createElement("th",{scope:"col"},"Overview"),n.a.createElement("th",{scope:"col"},"Status"),n.a.createElement("th",{scope:"col"}))),n.a.createElement("tbody",null,o.trainings.map(function(a){return n.a.createElement("tr",{key:a.id},n.a.createElement("td",null,s()(a.updated_at).format("YYYY-MM-DD")),n.a.createElement("td",null,a.title),n.a.createElement("td",null," ",a.overview.slice(0,200),"... "),n.a.createElement("td",null," ",a.status," "),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic outlined example"},n.a.createElement("button",{onClick:function(){return e.push("/trainings/create",{training:a})},style:{borderColor:"#DFDFDF",backgroundColor:"#DFDFDF",borderWidth:1},type:"button",className:"btn"},"Edit"),n.a.createElement("button",{onClick:function(){return e=a.id,void i()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this file!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(a){a?t(Object(b.b)(e)):i()("Operation canceled!")});var e},style:{borderColor:"#DFDFDF",borderWidth:1},type:"button",className:"btn btn-outline-white"},"Delete"))))}))),n.a.createElement("div",{className:"footer d-flex justify-content-end py-3"},n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("p",{className:"mr-3"},"Rows per page 10 ",n.a.createElement("i",{className:"fa fa-caret-down","aria-hidden":"true"})),n.a.createElement("p",{className:"mr-3"},"1-5 of 13 "),n.a.createElement("h5",{className:"mr-3 fw-bold"},n.a.createElement("i",{className:"fa fa-angle-left mr-2","aria-hidden":"true"})," ",n.a.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"}))))))))}}}]);
//# sourceMappingURL=25.a2c28dc5.chunk.js.map