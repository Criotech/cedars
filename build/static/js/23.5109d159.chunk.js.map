{"version":3,"sources":["redux/actions/projectsAction.js","pages/projects/Projects.js"],"names":["fetchProjects","_ref","Object","_Users_siyanbolaopeoluwa_Documents_ope_mindthegap_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_siyanbolaopeoluwa_Documents_ope_mindthegap_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","resp","wrap","_context","prev","next","startLoading","ApiService","sent","stopLoading","abrupt","type","FETCH_PROJECTS","payload","data","t0","message","response","status","getError","clear","error","stop","_x","apply","this","arguments","updateProject","id","_ref3","_callee3","_context3","success","_x3","fetchProject","_ref4","_callee4","_context4","FETCH_PROJECT","_x4","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","sweetalert__WEBPACK_IMPORTED_MODULE_1__","sweetalert__WEBPACK_IMPORTED_MODULE_1___default","_layouts_Dasboard_Layout__WEBPACK_IMPORTED_MODULE_2__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","react_redux__WEBPACK_IMPORTED_MODULE_4__","react_toast_notifications__WEBPACK_IMPORTED_MODULE_5__","_redux_actions_projectsAction__WEBPACK_IMPORTED_MODULE_6__","Projects","history","useHistory","useDispatch","addToast","useToasts","alert","useSelector","projectsReducer","_ref2","useEffect","appearance","swal","title","text","icon","button","createElement","className","onClick","push","aria-hidden","placeholder","scope","projects","map","x","key","dateTime","date","Date","concat","getDate","getMonth","getFullYear","WithoutTime","created_at","overview","slice","role","aria-label","style","borderColor","backgroundColor","borderWidth","project","buttons","dangerMode","then","willDelete"],"mappings":"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","file":"static/js/23.5109d159.chunk.js","sourcesContent":["import {\n  FETCH_PROJECTS,\n  FETCH_PROJECT\n} from '../types';\nimport ApiService from '../../utils/apiService';\nimport { getError, clear, success } from './alertActions';\nimport { startLoading, stopLoading } from './loadingAction';\n  \nexport const fetchProjects = () => async dispatch => {\n  dispatch(startLoading());\n  \n  try {\n    const resp = await ApiService.fetchProjects();\n    if (resp) {\n      dispatch(stopLoading());\n      return dispatch({ type: FETCH_PROJECTS, payload: resp.data.data });\n    }\n  } catch (error) {\n    dispatch(stopLoading());\n    if (error.message === 'Network Error' || error.response.status===500) {\n      dispatch(getError('Network Error'));\n      dispatch(clear());\n    } else {\n      dispatch(getError(error.response.data.error.message));\n      dispatch(clear());\n    }\n  }\n};\n\nexport const deleteProject = (id) => async dispatch => {\n  dispatch(startLoading());\n  \n  try {\n    const resp = await ApiService.deleteProject(id);\n  \n    if (resp) {\n      dispatch(stopLoading());\n      dispatch(success(resp.data.message));\n      dispatch(fetchProjects());\n      dispatch(clear());\n    }\n  } catch (error) {\n    dispatch(stopLoading());\n    if (error.message === 'Network Error' || error.response.status===500) {\n      dispatch(getError('Network Error'));\n      dispatch(clear());\n    } else {\n      dispatch(getError(error.response.data.error.message));\n      dispatch(clear());\n    }\n  }\n};\n\nexport const updateProject = (data, id) => async dispatch =>  {\n  dispatch(startLoading());\n  try {\n    const resp = await ApiService.updateProject(data, id);\n  \n    if (resp) {\n      dispatch(stopLoading());\n      dispatch(success(resp.data.message));\n      dispatch(clear());\n    }\n  } catch (error) {\n    dispatch(stopLoading());\n    if (error.message === 'Network Error'||error.response.status===500) {\n      dispatch(getError('Network Error'));\n      dispatch(clear());\n    } else {\n      dispatch(getError(error.response.data.error.message));\n      dispatch(clear());\n    }\n  }\n};\n\nexport const fetchProject = (id) => async dispatch => {\n  dispatch(startLoading());\n  \n  try {\n    const resp = await ApiService.fetchProject(id);\n    if (resp) {\n      dispatch(stopLoading());\n      return dispatch({ type: FETCH_PROJECT, payload: resp.data.data });\n    }\n  } catch (error) {\n    dispatch(stopLoading());\n    if (error.message === 'Network Error' || error.response.status===500) {\n      dispatch(getError('Network Error'));\n      dispatch(clear());\n    } else {\n      dispatch(getError(error.response.data.error.message));\n      dispatch(clear());\n    }\n  }\n};\n","import React, { useEffect } from 'react';\nimport swal from 'sweetalert';\nimport DashboardLayout from '../../layouts/Dasboard_Layout';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useToasts } from 'react-toast-notifications';\nimport { fetchProjects } from '../../redux/actions/projectsAction';\n\nconst Projects = () => {\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n  const { addToast } = useToasts();\n\n  const alert = useSelector(({ alert }) => alert);\n  const projectsReducer = useSelector(({ projectsReducer }) => projectsReducer);\n\n  useEffect(()=>{\n    dispatch(fetchProjects());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (alert.message) {\n      addToast(alert.message, { appearance: 'error' });\n      swal({\n        title: 'Error!',\n        text: alert.message,\n        icon: 'error',\n        button: 'close!',\n      });\n    }\n    if (alert.success) {\n      addToast(alert.success, { appearance: 'success' });\n      swal({\n        title: 'Success!',\n        text: alert.success,\n        icon: 'success',\n        button: 'close!',\n      });\n    }\n  }, [alert.message, alert.success, addToast]);\n\n  const WithoutTime = (dateTime) => {\n    var date = new Date(dateTime);\n\n    return `${date.getDate()}-${date.getMonth()+1}-${date.getFullYear()}`;\n  };\n\n  const deleteAProject = () => {\n    swal({\n      title: 'Are you sure?',\n      text: 'Once deleted, you will not be able to recover this file!',\n      icon: 'warning',\n      buttons: true,\n      dangerMode: true,\n    })\n      .then((willDelete) => {\n        if (willDelete) {\n          // dispatch(deleteProject(id));\n          swal('Operation canceled!');\n        } else {\n          swal('Operation canceled!');\n        }\n      });\n  };\n\n  return (\n    <div>\n      <DashboardLayout title='Projects'>\n        <section className=\"trainings-section\">\n          <div className=\"flex-between\">\n            <h5 className=\"fw-bold mb-3\">Projects</h5>\n\n            <div onClick={()=>history.push('/projects/create')} className=\"d-flex flex-between pointer\">\n              <i className=\"fa fa-plus-circle text-green mr-1\" aria-hidden=\"true\"></i>\n              <h5 className=\"fw-bold text-green\">\n                Create New\n              </h5>\n            </div>\n          </div>\n\n          <div className='w-100 mt-4'>\n            <div className=\"d-flex align-items-center w-100\">\n              <div className='search-bar-container'>\n                <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\n                <input type=\"text\" className=\"form-control flex-grow-1\" placeholder='Search' />\n              </div>\n\n              <h6 className=\"px-5 text-green fw-bold\">Filters <i className=\"fa fa-cog ml-1\" aria-hidden=\"true\"></i></h6>\n            </div>\n          </div>\n\n          <div className=\"mt-4\">\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">Date</th>\n                  <th scope=\"col\">Title</th>\n                  <th scope=\"col\">Overview</th>\n                  <th scope=\"col\"></th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  projectsReducer.projects.map(x => (\n                    <tr key={x.id}>\n                      <td>{WithoutTime(x.created_at)}</td>\n                      <td>{x.title}</td>\n                      <td>{x.overview.slice(0,200)}......  </td>\n                      <td><div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\n                        <button style={{borderColor: '#DFDFDF', backgroundColor: '#DFDFDF', borderWidth: 1}} onClick={()=>history.push('/projects/create', {project: x})}  type=\"button\" className=\"btn\">Edit</button>\n                        <button onClick={()=>deleteAProject(x.id)} style={{borderColor: '#DFDFDF', borderWidth: 1}} type=\"button\" className=\"btn btn-outline-white\">Delete</button>\n                      </div></td>\n                    </tr>\n                  ))\n                }\n\n\n              </tbody>\n            </table>\n\n            <div className='footer d-flex justify-content-end py-3'>\n              <div className=\"d-flex align-items-center\">\n                <p className=\"mr-3\">Rows per page 10 <i className=\"fa fa-caret-down\" aria-hidden=\"true\"></i></p>\n                <p className=\"mr-3\">1-5 of 13 </p>\n                <h5 className=\"mr-3 fw-bold\"><i className=\"fa fa-angle-left mr-2\" aria-hidden=\"true\"></i> <i className=\"fa fa-angle-right\" aria-hidden=\"true\"></i></h5>\n              </div>\n\n            </div>\n          </div>\n\n        </section>\n      </DashboardLayout>\n    </div>\n  );\n};\n\nexport default Projects;\n"],"sourceRoot":""}